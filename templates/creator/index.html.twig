{% extends 'base.html.twig' %}

{% block title %}Hello CreatorController!{% endblock %}

{% block body %}
    <div class="row">
        {% for item in app.user.items %}
            <div class="col-12 col-md-6 col-xl-4">
                <div class="card" style="width: 18rem;">
                    {% if item.mainPicture %}
                        <img src="{{ asset('uploads/' ~ item.mainPicture) | imagine_filter('list')}}" alt="{{ item.title }}">                    
                    {% else %}
                        <img class="card-img-top"  src="{{ asset('images/no_image.png') | imagine_filter('list')}}" alt="{{ item.title }}">  
                    {% endif %}  
                    <div class="card-body">
                        <h5 class="card-title">{{ item.title }}</h5>
                        <p class="card-text">{{ item.createdAt ? item.createdAt|date('Y-m-d H:i:s') : '' }}</p>
                        <p>{{ item.description | u.truncate(50, "...") | raw }}</p>
                        <p>
                            {% if item.category %}
                                {{ item.category.label }}
                            {% else %}
                                aucune
                            {% endif %}
                        </p>
                        <a href="{{ path('item_show', {'id': item.id}) }}" class="btn btn-primary">Voir</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
{# 
<td>{{ item.id }}</td>
                <td>{{ item.title }}</td>
                <td>{{ item.createdAt ? item.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ item.description }}</td>
                <td>
                    {% if item.category %}
                        {{ item.category.label }}
                    {% else %}
                        aucune
                    {% endif %}                
                </td>
                <td>{{ item.user.name }}</td>
                <td>
                    {% if item.mainPicture %}
                        <img src="{{ asset('uploads/' ~ item.mainPicture) | imagine_filter('list')}}" alt="{{ item.title }}">                    
                    {% else %}
                        <img src="{{ asset('images/no_image.png') | imagine_filter('list')}}" alt="{{ item.title }}">  
                    {% endif %}  
                </td>
                <td>
                    <a href="{{ path('item_show', {'id': item.id}) }}">show</a>
                    {# <a href="{{ path('item_edit', {'id': item.id}) }}">edit</a> #}